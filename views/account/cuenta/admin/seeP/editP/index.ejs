<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolBox - Editar producto</title>

    <link rel="icon" type="image/x-icon" href="/img/logo/Logo 180.png">
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/cuenta.css">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="#" id="admin">
                    <img src="/img/logo/Logo trazo 180.png" alt="Logo" height="45" class="d-inline-block align-text-top">
                    ToolBox Account
                </a>
                <a class="nav-link active" aria-current="page" id="invPag" href="#">Inicio</a>
            </div>
        </nav>
    </header>

    <div class="container mt-5">
        <main class="px-5 py-2">
            <h2>Editar producto</h2>

            <div class="d-flex justify-content-center mt-4">
                <div class="w-75">
                    <div class="card shadow overflow-hidden sm:rounded-lg border-b border-gray-200">
                        <form id="formulario" class="bg-white p-3" method="POST" enctype="multipart/form-data" action="/api/products/inventario/editar/<%= producto._id %>">
                            <input type="hidden" name="_method" value="PUT">
                            <div class="mb-4">
                                <label class="form-label" for="nombre">Nombre</label>
                                <input 
                                    class="form-control"
                                    id="nombre"
                                    name="nombre"
                                    type="text"
                                    value="<%= producto.nombre %>"
                                    placeholder="Nombre Producto"
                                />
                            </div>
                            <div class="mb-4">
                                <label class="form-label" for="precio">Precio</label>
                                <input 
                                    class="form-control"
                                    id="precio"
                                    name="precio"
                                    type="number"
                                    value="<%= producto.precio %>"
                                    placeholder="Precio Producto"
                                />
                            </div>
                            <div class="mb-4">
                                <label class="form-label" for="categoria">Categoría</label>
                                <input 
                                    class="form-control"
                                    id="categoria"
                                    name="categoria"
                                    type="number"
                                    value="<%= producto.categoria %>"
                                    placeholder="Categoría Producto"
                                />
                            </div>
                            <div class="mb-4">
                                <label class="form-label" for="desc">Descripción</label>
                                <textarea 
                                    class="form-control"
                                    id="desc"
                                    name="desc"
                                    placeholder="Descripción del producto"
                                ><%= producto.descripcion %></textarea>
                            </div>
                            <div class="mb-4">
                                <label class="form-label" for="imagen">Imagen actual</label>
                                <% if (producto.imagen && producto.imagen.data) { %>
                                    <img src="<%= producto.imagen.data %>" alt="Imagen del producto" class="img-thumbnail mb-3" style="max-width: 200px;">
                                <% } %>
                                <input 
                                    class="form-control"
                                    id="imagen"
                                    name="inputImagen"
                                    type="file"
                                />
                            </div>
                            <button class="btn btn-primary" type="submit">
                                Guardar Cambios
                            </button>
                            <button class="btn btn-secondary" type="button" id="cancelar">
                                Cancelar Edición
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/js/editar.js"></script>
</body>
</html>